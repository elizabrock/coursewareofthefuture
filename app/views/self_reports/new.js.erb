$('td[data-date="<%=@self_report.date.strftime("%Y-%m-%d")%>"]')
  .bind("ajax:success", function() {
    $('td[data-date="<%=@self_report.date.strftime("%Y-%m-%d")%>"] form')
    .replaceWith("<%= escape_javascript(render(:partial => "self_report_form", :alert => "All fields required.", locals: {self_report: @self_report, date: @self_report.date})) %>");
})

